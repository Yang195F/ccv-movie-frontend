{"ast":null,"code":"import apiRoutes from \"../config/apiRoutes\";\nexport const getAllMovies = async (category, bannerOnly = false) => {\n  try {\n    const params = new URLSearchParams();\n    if (category) params.append(\"category\", category);\n    if (bannerOnly) params.append(\"bannerOnly\", \"true\");\n    const response = await fetch(`${apiRoutes.movies.getMovie}?${params.toString()}`);\n    const result = await response.json();\n    if (!response.ok || !result.success) {\n      throw new Error(result.message || \"Failed to fetch movies.\");\n    }\n    return result.data;\n  } catch (error) {\n    console.error(\"Error fetching movies:\", error);\n    throw error;\n  }\n};\nexport const getMovieById = async id => {\n  try {\n    const response = await fetch(apiRoutes.movies.getDetails(id));\n    const data = await response.json();\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || \"Failed to fetch movie details\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Movie details fetched successfully.\",\n      data: data.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: error.message || \"Something went wrong\"\n    };\n  }\n};\nexport const getShowtimes = async (cinemaId, movieId) => {\n  try {\n    const response = await fetch(apiRoutes.cinemas.getShowtimes(cinemaId), {\n      method: \"GET\"\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || \"Failed to fetch showtimes\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Showtimes fetched successfully.\",\n      data: data.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: error.message || \"Something went wrong\"\n    };\n  }\n};\nexport const getCinemas = async () => {\n  try {\n    const response = await fetch(apiRoutes.cinemas.getAll);\n    const data = await response.json();\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || \"Failed to fetch cinemas\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Cinemas fetched successfully.\",\n      data: data.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: error.message || \"Something went wrong\"\n    };\n  }\n};","map":{"version":3,"names":["apiRoutes","getAllMovies","category","bannerOnly","params","URLSearchParams","append","response","fetch","movies","getMovie","toString","result","json","ok","success","Error","message","data","error","console","getMovieById","id","getDetails","getShowtimes","cinemaId","movieId","cinemas","method","getCinemas","getAll"],"sources":["C:/Users/User/Documents/GitHub/ccv-movie-frontend/src/services/movieService.ts"],"sourcesContent":["import apiRoutes from \"../config/apiRoutes\";\r\n\r\nexport const getAllMovies = async (category?: string, bannerOnly: boolean = false) => {\r\n    try {\r\n        const params = new URLSearchParams()\r\n        if (category) params.append(\"category\", category)\r\n        if (bannerOnly) params.append(\"bannerOnly\", \"true\")\r\n\r\n        const response = await fetch(`${apiRoutes.movies.getMovie}?${params.toString()}`)\r\n        const result = await response.json()\r\n\r\n        if (!response.ok || !result.success) {\r\n            throw new Error(result.message || \"Failed to fetch movies.\")\r\n        }\r\n\r\n        return result.data\r\n    } catch (error) {\r\n        console.error(\"Error fetching movies:\", error)\r\n        throw error\r\n    }\r\n}\r\n\r\n\r\nexport const getMovieById = async (id: string) => {\r\n    try {\r\n        const response = await fetch(apiRoutes.movies.getDetails(id));\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n            return {\r\n                success: false,\r\n                message: data.message || \"Failed to fetch movie details\",\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Movie details fetched successfully.\",\r\n            data: data.data,\r\n        };\r\n    } catch (error: any) {\r\n        return {\r\n            success: false,\r\n            message: error.message || \"Something went wrong\",\r\n        };\r\n    }\r\n};\r\n\r\n\r\nexport const getShowtimes = async (cinemaId: string, movieId: string) => {\r\n    try {\r\n        const response = await fetch(apiRoutes.cinemas.getShowtimes(cinemaId), {\r\n            method: \"GET\",\r\n        });\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n            return {\r\n                success: false,\r\n                message: data.message || \"Failed to fetch showtimes\",\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Showtimes fetched successfully.\",\r\n            data: data.data,\r\n        };\r\n    } catch (error: any) {\r\n        return {\r\n            success: false,\r\n            message: error.message || \"Something went wrong\",\r\n        };\r\n    }\r\n};\r\n\r\n\r\nexport const getCinemas = async () => {\r\n    try {\r\n        const response = await fetch(apiRoutes.cinemas.getAll);\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n            return {\r\n                success: false,\r\n                message: data.message || \"Failed to fetch cinemas\",\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Cinemas fetched successfully.\",\r\n            data: data.data,\r\n        };\r\n    } catch (error: any) {\r\n        return {\r\n            success: false,\r\n            message: error.message || \"Something went wrong\",\r\n        };\r\n    }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}